version: '2'
services:
  web:
    build: .
    ports:
    - "80:5000"
    volumes:
    - .:/app
    depends_on:
    - sass
  dev:
    build: .
    ports:
    - "80:80"
    volumes:
    - .:/app
    - ../analysis:/app/analysis
    - ~/stalker:/root/stalker
    environment:
    - FLASK_DEBUG=1
    - TZ=Europe/Prague
    command: python3 web.py
    depends_on:
    - sass_watch
  sass:
    image: ubuntudesign/sass
    volumes:
    - ./static/css/:/app
    command: sass /app/style.scss style.css
  sass_watch:
    image: ubuntudesign/sass
    volumes:
    - ./static/css/:/app
    command: sass --watch /app

